const AWS = require('aws-sdk');

AWS.config.update({ region: 'eu-west-2' });
AWS.config.setPromisesDependency(Promise);

const docClient = new AWS.DynamoDB.DocumentClient();

const words = `
affinity
fledgling
hackneyed
incessant
opulence
proximity
sagacious
supplant
unassailable
voluminous
brusque
dispassionate
effervescent
indefatigable
misanthrope
morose
nonchalance
progeny
stoic
voracious
coalesce
decadence
exemplary
exuberance
incidental
insolvent
parsimonious
prodigal
surreptitious
writhe
brevity
clemency
frivolous
heist
lampoon
querulous
reproach
respite
torpor
unscathed
copious
dearth
eloquent
jargon
levity
meander
peripheral
substantiate
unobstrusive
vacillate
appall
cognizant
commiserate
expedient
hindrance
kindle
lavish
ludicrous
obtuse
opaque
paucity
recapitulate
accolade
assuage
cacophony
censure
diatribe
edifice
gravity
infraction
profane
somber
negligent
scrutinize
clamor
contract
duplicity
equivocal
irresolute
rescind
stagnant
uniform
untenable
vilify
affable
apocryphal
desultory
garbled
irascible
loquacious
blasphemy
enmity
erroneous
garner
heretic
incite
languish
peruse
recluse
renounce
indelible
duty
messy
mend
heal
demise
depleted
neat
ruminate
shrink
footstool
likely
sway
mull
resemble
concealed
wisdom
wool
blazing
drowziness
catering
wise
deceive
shiv
flunk
impart
knob
fright
vanish
roll out
seizing
stem cell
trite
embrace
remain
inmate
lame
slight
among
ease
snub
chimera
cease
swath
ruse
donor
snore
muck
hold dear
swamp
poultry
stark
stage
sage
stripes
hatch
fast
dye
grief
smear
breed
decay
leery
dimple
blast
pledge
deed
rot
mole
groan
blister
wart
callus
burden
loaf
shriking
harsh
rash
overwhelming
crotch
blade
seam
upsetting
screech
edge
wedge
hedge
lease
worthy
rekindle
sovereignty
burst
slaughter
gorgeous
stretch
spree
bout
captivity
spotter
bobbing
gravel
sentient
binge
blow
harm
plea
claim
pulled
haggle
endowed
thrifty
struck
sulky
tuckered
grim
grudge
dire
blunt
stingy
snail
slug
dentures
rinds
upbeat
fizz
gerbil
wreck
stale
put up with
steep
wilted
shed
slope
admonition
mere
hermit
mischievous
throw up
loony
prank
squalid
whinning
stroll
clever
puddle
greedy
rough
keen
dull
soaked
dreary
bribe
gloomy
hen
lagging
wipe
frantic
cock
sate
ribbing
bear
offspring
dean
pouring
barely
hasty
flaw
progeny
couch
screw
repent
brash
thick
sly
spouting
outnumber
squirm
weird
wriggle
regret
retreat
veal
fidget
hollow
beg
bet
beef
peel
pinch
calf
lean
shelter
misleading
stooped
bend
stir
maize
stiff
rug
cartons
hurtle
mock
convey
dairy
shore
outward
flair
flare
udder
swallow
stride
mood
welfare
bolster
limb
soothed
relieve
concern
ailing
trustworthy
grip
herd
widen
obey
preach
whipping
mug
clam
gut
burglary
crop
cattle
orchard
turd
harvest
quarrel
hassle
steady
strain
clutch
stubborn
peak
glazed
ground
dazzling
ripe
doze
dumb
deaf
lead
rouse
sober
sticky
unpleasant
grated
arousal
copper
shoplift
rebuke
thorn
lump
settle
mold
lurches
faint
churning
draped
trousers
wholly
sparkle
dare
waist
flood
bared
savants
slum
sweepings
slump
dawn
shingles
endure
roaring
craze
hindsight
bind
squeeze
pursuit
silk
feather
stare
deter
bend
denim
partake
slippers
coeds
miff
curl
scrawl
fancy
slash
weeds
prudish
stunt
feat
puffy
defy
rely
dainty
dart
fair
cumbersome
garments
rage
rave
vogue
fad
thigh
leniency
mild
complaisant
loosely
heel
sew
awash
tide
wool
knack
whalebone
uncanny
weave
groping
folly
gauntlet
culprit
leather
brag
boast
paw
aisles
nave
clumsy
silly
moss
praise
devise
hobbling
limp
fetter
shackle
groovy
wax
chuckle
giggle
tickle
jiggle
undergo
popsicle
skewer
downwind
porch
bequest
amenable
come about
adamant
trustee
haphazard
comprised
haunt
besiege
vex
amidst
eerie
snap
ridge
fulfill
convict
stony
hail
fringe
spurious
intricate
beneath
distress
underneath
pun
touchy
disgruntled
lousy
jeopardy
drizzling
rust
deputy
haze
seal
odorless
riddle
poised
ladder
hue
stickler
onset
clash
aftermath
stun
rehearse
crap
`;


const WS_PATH = `/Users/dosyara/sandbox/wordset-dictionary/data`;

const ipas = require('./get-ipa')();

const run = async () => {
  const items = words.split('\n').map(word => {
    const [l] = word;
    if (l) {
      const data = require(`${WS_PATH}/${l}.json`);
      if (data[word]) {
        return {
          type: 'text',
          text: `*${word}* _[${ipas[word]}]_
${data[word].meanings.map(m => `- (${m.speech_part}) ${m.def}${m.example ? `\n_${m.example}_` : ''}`).join('\n')}`
        };
      }
    }
  }).filter(Boolean);
  console.log(items.length);

  return docClient
    .put({
      TableName: 'courses',
      Item: {
        id: 'sample-course',
        title: 'Sample',
        description: 'Sample course',
        items,
      },
    })
    .promise();
};

run()
  .then(() => console.log('done'));